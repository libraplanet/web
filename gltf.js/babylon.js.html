<html>
	<head>
		<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>babylon.js</title>
		<script src="res/babylon.max.js"></script> 
		<!-- <script src="res/babylon.glTFFileLoader.js"></script> -->
		<script src="res/babylon.glTFFileLoader.min.js"></script> 
		<script type="text/javascript">
			window.onload = function() {
				var createScene = function(engine) {
					var scene = new BABYLON.Scene(engine);

					// camera
					(function() {
						//var camera = new BABYLON.UniversalCamera('camera', new BABYLON.Vector3(0, 5, -10), scene);
						//camera.setTarget(BABYLON.Vector3.Zero());
						// Parameters: alpha, beta, radius, target position, scene
						var camera = new BABYLON.ArcRotateCamera("camera", 0, 0, 1, new BABYLON.Vector3(0, 0, 0), scene);

						// Positions the camera overwriting alpha, beta, radius
						camera.setPosition(new BABYLON.Vector3(10, 10, 10));
						camera.attachControl(canvas, true);

						camera.wheelDeltaPercentage = 0.01;
					})();

					// light
					(function() {
						var light = new BABYLON.HemisphericLight('light', new BABYLON.Vector3(0, 1, 0), scene);
					})();

					//// sphere
					//(function() {
					//	var sphere = BABYLON.Mesh.CreateSphere('sphere1', 16, 2, scene, false, BABYLON.Mesh.FRONTSIDE);
					//	sphere.position.y = 1;
					//})();

					//// ground 
					//(function() {
					//	 var ground = BABYLON.Mesh.CreateGround('ground1', 6, 6, 2, scene, false);
					//})();
					// Append glTF model to scene.
					//BABYLON.SceneLoader.Append('./res/', 'BoomBox.glb', scene, function (scene) {
					BABYLON.SceneLoader.Append('./res/', 'Duck.gltf', scene, function (scene) {
						
					});

					//lines
					(function() {
						var drawLine = function (name, points, color) {
							var meshLine = BABYLON.Mesh.CreateLines(name, points, scene, true);
							meshLine.color = color;
						};
						//中心軸
						var len = 10;
						drawLine('line', [new BABYLON.Vector3(len,   0,   0), new BABYLON.Vector3(-len,    0,    0)], new BABYLON.Color3(255,   0,   0));
						drawLine('line', [new BABYLON.Vector3(  0, len,   0), new BABYLON.Vector3(   0, -len,    0)], new BABYLON.Color3(  0, 255,   0));
						drawLine('line', [new BABYLON.Vector3(  0,   0, len), new BABYLON.Vector3(   0,    0, -len)], new BABYLON.Color3(  0,   0, 255));

						for(var i = 0; i < 10; i++) {
							v = i + 1;
							//Y面 (X軸)
							drawLine('line', [new BABYLON.Vector3(len, 0,    v), new BABYLON.Vector3(-len, 0,    v)], new BABYLON.Color3(255, 255, 255));
							drawLine('line', [new BABYLON.Vector3(len, 0,   -v), new BABYLON.Vector3(-len, 0,   -v)], new BABYLON.Color3(255, 255, 255));
							//Y面 (Z軸)
							drawLine('line', [new BABYLON.Vector3(  v, 0,  len), new BABYLON.Vector3(   v, 0, -len)], new BABYLON.Color3(255, 255, 255));
							drawLine('line', [new BABYLON.Vector3( -v, 0,  len), new BABYLON.Vector3(  -v, 0, -len)], new BABYLON.Color3(255, 255, 255));
						}

					})();

					(function() {
						
					})();

					//render loop
					engine.runRenderLoop(function(){
						scene.render();
					});

					return scene;
				};
				var init = function() {
					var canvas = document.querySelectorAll("#canvas")[0];
					var engine = new BABYLON.Engine(canvas, true, {preserveDrawingBuffer: true, stencil: true});
					var scene = createScene(engine);

					// event handler
					window.addEventListener('resize', function() {
						engine.resize();
					});
				};
				init();
			};
		</script> 
		<style type="text/css">
		<!--
			html, body {
				overflow: hidden;
				width   : 100%;
				height  : 100%;
				margin  : 0;
				padding : 0;
			}
			canvas#canvas {
				width:100%;
				height:100%;
			};
		-->
		</style> 
	</head>
	<body>
		<canvas id="canvas"></canvas>
	</body>
<html>
